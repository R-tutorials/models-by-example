<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Tobit | Model Estimation by Example</title>
  <meta name="description" content="This document provides ‘by-hand’ demonstrations of various models and algorithms. The goal is to take away some of the mystery by providing clean code examples that are easy to run and compare with other tools." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Tobit | Model Estimation by Example" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://m-clark.github.io/models-by-example/" />
  <meta property="og:image" content="https://m-clark.github.io/models-by-example/img/nineteeneightyR.png" />
  <meta property="og:description" content="This document provides ‘by-hand’ demonstrations of various models and algorithms. The goal is to take away some of the mystery by providing clean code examples that are easy to run and compare with other tools." />
  <meta name="github-repo" content="m-clark/models-by-example/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Tobit | Model Estimation by Example" />
  
  <meta name="twitter:description" content="This document provides ‘by-hand’ demonstrations of various models and algorithms. The goal is to take away some of the mystery by providing clean code examples that are easy to run and compare with other tools." />
  <meta name="twitter:image" content="https://m-clark.github.io/models-by-example/img/nineteeneightyR.png" />



<meta name="date" content="2020-11-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/R.ico" type="image/x-icon" />
<link rel="prev" href="heckman-selection.html"/>
<link rel="next" href="naive-bayes.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/book.css" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class='before'><a href="./">Model Estimation by Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>Models</b></span></li>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i>Standard Linear Regression</a>
<ul>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#data-setup"><i class="fa fa-check"></i>Data Setup</a></li>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#obtain-model-estimates"><i class="fa fa-check"></i>Obtain Model Estimates</a></li>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#comparison"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="linear-regression.html"><a href="linear-regression.html#source"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i>Standard Logistic</a>
<ul>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#data-setup-1"><i class="fa fa-check"></i>Data Setup</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#functions-1"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#obtain-model-estimates-1"><i class="fa fa-check"></i>Obtain Model Estimates</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#comparison-1"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="logistic-regression.html"><a href="logistic-regression.html#source-1"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="mixed-model-one-factor.html"><a href="mixed-model-one-factor.html"><i class="fa fa-check"></i>One-factor Mixed Model</a>
<ul>
<li class="chapter" data-level="" data-path="mixed-model-one-factor.html"><a href="mixed-model-one-factor.html#main-function"><i class="fa fa-check"></i>Main function</a></li>
<li class="chapter" data-level="" data-path="mixed-model-one-factor.html"><a href="mixed-model-one-factor.html#data-set-up"><i class="fa fa-check"></i>Data set up</a></li>
<li class="chapter" data-level="" data-path="mixed-model-one-factor.html"><a href="mixed-model-one-factor.html#estimation"><i class="fa fa-check"></i>Estimation</a></li>
<li class="chapter" data-level="" data-path="mixed-model-one-factor.html"><a href="mixed-model-one-factor.html#comparison-2"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="mixed-model-one-factor.html"><a href="mixed-model-one-factor.html#source-2"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="mixed-model-two-factor.html"><a href="mixed-model-two-factor.html"><i class="fa fa-check"></i>Two-factor Mixed Model</a>
<ul>
<li class="chapter" data-level="" data-path="mixed-model-two-factor.html"><a href="mixed-model-two-factor.html#main-function-1"><i class="fa fa-check"></i>Main function</a></li>
<li class="chapter" data-level="" data-path="mixed-model-two-factor.html"><a href="mixed-model-two-factor.html#data-set-up-1"><i class="fa fa-check"></i>Data set up</a></li>
<li class="chapter" data-level="" data-path="mixed-model-two-factor.html"><a href="mixed-model-two-factor.html#estimation-1"><i class="fa fa-check"></i>Estimation</a></li>
<li class="chapter" data-level="" data-path="mixed-model-two-factor.html"><a href="mixed-model-two-factor.html#comparison-3"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="mixed-model-two-factor.html"><a href="mixed-model-two-factor.html#source-3"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html"><i class="fa fa-check"></i>Mixed Model via ML</a>
<ul>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#maximum-likelihood-estimation"><i class="fa fa-check"></i>Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#ml-function"><i class="fa fa-check"></i>ML function</a></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#results"><i class="fa fa-check"></i>Results</a></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#issues-with-ml-estimation"><i class="fa fa-check"></i>Issues with ML estimation</a></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#link-with-penalized-regression"><i class="fa fa-check"></i>Link with penalized regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="mixed-model-ML.html"><a href="mixed-model-ML.html#source-4"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="probit.html"><a href="probit.html"><i class="fa fa-check"></i>Probit &amp; Bivariate Probit</a>
<ul>
<li class="chapter" data-level="" data-path="probit.html"><a href="probit.html#standard-probit"><i class="fa fa-check"></i>standard probit</a>
<ul>
<li class="chapter" data-level="" data-path="probit.html"><a href="probit.html#examples"><i class="fa fa-check"></i>Examples</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="probit.html"><a href="probit.html#bivariate-probit"><i class="fa fa-check"></i>Bivariate probit</a>
<ul>
<li class="chapter" data-level="" data-path="probit.html"><a href="probit.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html"><i class="fa fa-check"></i>Heckman Selection</a>
<ul>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html#data-setup-2"><i class="fa fa-check"></i>Data Setup</a></li>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html#step-approach"><i class="fa fa-check"></i>2 step approach</a>
<ul>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html#step-1-probit-model"><i class="fa fa-check"></i>Step 1: Probit Model</a></li>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html#step-2-estimate-via-linear-regression"><i class="fa fa-check"></i>Step 2: Estimate via linear regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html#maximum-likelihood"><i class="fa fa-check"></i>Maximum Likelihood</a>
<ul>
<li class="chapter" data-level="" data-path="heckman-selection.html"><a href="heckman-selection.html#comparison-4"><i class="fa fa-check"></i>Comparison</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="tobit.html"><a href="tobit.html"><i class="fa fa-check"></i>Tobit</a>
<ul>
<li class="chapter" data-level="" data-path="tobit.html"><a href="tobit.html#demonstrate-censoring-with-an-upper-limit"><i class="fa fa-check"></i>Demonstrate Censoring with an Upper Limit</a>
<ul>
<li class="chapter" data-level="" data-path="tobit.html"><a href="tobit.html#data-setup-3"><i class="fa fa-check"></i>Data setup</a></li>
<li class="chapter" data-level="" data-path="tobit.html"><a href="tobit.html#comparison-5"><i class="fa fa-check"></i>Comparison</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tobit.html"><a href="tobit.html#demonstrate-censoring-with-a-lower-limit"><i class="fa fa-check"></i>Demonstrate censoring with a Lower Limit</a>
<ul>
<li class="chapter" data-level="" data-path="tobit.html"><a href="tobit.html#comparison-6"><i class="fa fa-check"></i>Comparison</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="naive-bayes.html"><a href="naive-bayes.html"><i class="fa fa-check"></i>Naive Bayes</a>
<ul>
<li class="chapter" data-level="" data-path="naive-bayes.html"><a href="naive-bayes.html#initialization"><i class="fa fa-check"></i>Initialization</a></li>
<li class="chapter" data-level="" data-path="naive-bayes.html"><a href="naive-bayes.html#comparison-7"><i class="fa fa-check"></i>Comparison</a></li>
</ul></li>
<li class="part"><span><b>Algorithms</b></span></li>
<li class="chapter" data-level="" data-path="penalized-maximum-likelihood.html"><a href="penalized-maximum-likelihood.html"><i class="fa fa-check"></i>Penalized Maximum Likelihood</a>
<ul>
<li class="chapter" data-level="" data-path="penalized-maximum-likelihood.html"><a href="penalized-maximum-likelihood.html#data-setup-4"><i class="fa fa-check"></i>Data Setup</a></li>
<li class="chapter" data-level="" data-path="penalized-maximum-likelihood.html"><a href="penalized-maximum-likelihood.html#functions-2"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="penalized-maximum-likelihood.html"><a href="penalized-maximum-likelihood.html#obtain-model-estimates-2"><i class="fa fa-check"></i>Obtain Model Estimates</a></li>
<li class="chapter" data-level="" data-path="penalized-maximum-likelihood.html"><a href="penalized-maximum-likelihood.html#comparison-8"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="penalized-maximum-likelihood.html"><a href="penalized-maximum-likelihood.html#source-5"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lasso.html"><a href="lasso.html"><i class="fa fa-check"></i>L1 (lasso) regularization</a>
<ul>
<li class="chapter" data-level="" data-path="lasso.html"><a href="lasso.html#functions-3"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="lasso.html"><a href="lasso.html#data-setup-5"><i class="fa fa-check"></i>Data setup</a></li>
<li class="chapter" data-level="" data-path="lasso.html"><a href="lasso.html#comparison-9"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="lasso.html"><a href="lasso.html#source-6"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ridge.html"><a href="ridge.html"><i class="fa fa-check"></i>L2 (ridge) regularization</a>
<ul>
<li class="chapter" data-level="" data-path="ridge.html"><a href="ridge.html#comparison-10"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="ridge.html"><a href="ridge.html#source-7"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html"><i class="fa fa-check"></i>Newton and IRLS</a>
<ul>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#glm-estimation-examples"><i class="fa fa-check"></i>GLM estimation examples</a></li>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#data-prep"><i class="fa fa-check"></i>Data Prep</a></li>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#functions-4"><i class="fa fa-check"></i>Functions</a>
<ul>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#newtons-method"><i class="fa fa-check"></i>Newton’s method</a></li>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#irls"><i class="fa fa-check"></i>IRLS</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#comparison-11"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="newton-irls.html"><a href="newton-irls.html#source-8"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html"><i class="fa fa-check"></i>Nelder Mead</a>
<ul>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#first-version"><i class="fa fa-check"></i>First version</a>
<ul>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#example-1"><i class="fa fa-check"></i>Example</a></li>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#a-regression-model"><i class="fa fa-check"></i>A Regression Model</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#second-version"><i class="fa fa-check"></i>Second version</a>
<ul>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#example-function"><i class="fa fa-check"></i>Example function</a></li>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#a-regression-model-1"><i class="fa fa-check"></i>A Regression Model</a></li>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#comparison-13"><i class="fa fa-check"></i>Comparison</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="nelder-mead.html"><a href="nelder-mead.html#source-9"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="gradient-descent.html"><a href="gradient-descent.html"><i class="fa fa-check"></i>Gradient Descent</a>
<ul>
<li class="chapter" data-level="" data-path="gradient-descent.html"><a href="gradient-descent.html#data-setup-7"><i class="fa fa-check"></i>Data Setup</a></li>
<li class="chapter" data-level="" data-path="gradient-descent.html"><a href="gradient-descent.html#gradient-descent-algorithm"><i class="fa fa-check"></i>Gradient Descent Algorithm</a>
<ul>
<li class="chapter" data-level="" data-path="gradient-descent.html"><a href="gradient-descent.html#run"><i class="fa fa-check"></i>Run</a></li>
<li class="chapter" data-level="" data-path="gradient-descent.html"><a href="gradient-descent.html#comparison-14"><i class="fa fa-check"></i>Comparison</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="gradient-descent.html"><a href="gradient-descent.html#source-10"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html"><i class="fa fa-check"></i>Stochastic Gradient Descent</a>
<ul>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#data-setup-8"><i class="fa fa-check"></i>Data Setup</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#stochastic-gradient-descent-algorithm"><i class="fa fa-check"></i>Stochastic Gradient Descent Algorithm</a>
<ul>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#run-1"><i class="fa fa-check"></i>Run</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#comparison-15"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#visualize-estimates"><i class="fa fa-check"></i>Visualize Estimates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#data-set-shift"><i class="fa fa-check"></i>Data Set Shift</a>
<ul>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#run-2"><i class="fa fa-check"></i>Run</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#comparison-16"><i class="fa fa-check"></i>Comparison</a></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#visualize-estimates-1"><i class="fa fa-check"></i>Visualize Estimates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="stochastic-gradient-descent.html"><a href="stochastic-gradient-descent.html#source-11"><i class="fa fa-check"></i>Source</a></li>
</ul></li>
<li class="part"><span><b>Other</b></span></li>
<li class="chapter" data-level="" data-path="supplemental.html"><a href="supplemental.html"><i class="fa fa-check"></i>Supplemental</a>
<ul>
<li class="chapter" data-level="" data-path="supplemental.html"><a href="supplemental.html#other-languages"><i class="fa fa-check"></i>Other Languages</a>
<ul>
<li class="chapter" data-level="" data-path="supplemental.html"><a href="supplemental.html#algorithms"><i class="fa fa-check"></i>Algorithms</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li class='after'">
   <a href="https://m-clark.github.io/">
      <img src="img/mc_logo.png" style="width:25%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo">
   </a>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a href="https://github.com/m-clark/">
         <i class="fab fa-github fa-2x" aria-hidden="true"></i>
      </a>
   </div>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
         <i class="fab fa-creative-commons fa-lg"></i>
         <i class="fab fa-creative-commons-by fa-lg"></i>
         <i class="fab fa-creative-commons-sa fa-lg"></i>
      </a>
   </div>
</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Model Estimation by Example</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tobit" class="section level1">
<h1>Tobit</h1>
<p>A simple demonstration of tobit regression via maximum likelihood. The issue is one where data is censored such that while we observe the value, it is not the true value, which would extend beyond the range of the observed data. This is very commonly seen in cases where the dependent variable has been given some arbitrary cutoff at the lower or upper end of the range, often resulting in floor or ceiling effects respectively. The conceptual idea is that we are interested in modeling the underlying latent variable that would not have suchrestriction if it was actually observed.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="tobit.html#cb102-1"></a>tobit &lt;-<span class="st"> </span><span class="cf">function</span>(par, X, y, <span class="dt">ul =</span> <span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ll =</span> <span class="ot">Inf</span>) {</span>
<span id="cb102-2"><a href="tobit.html#cb102-2"></a>  </span>
<span id="cb102-3"><a href="tobit.html#cb102-3"></a>  <span class="co"># this function only takes a lower OR upper limit</span></span>
<span id="cb102-4"><a href="tobit.html#cb102-4"></a>  </span>
<span id="cb102-5"><a href="tobit.html#cb102-5"></a>  <span class="co"># parameters</span></span>
<span id="cb102-6"><a href="tobit.html#cb102-6"></a>  sigma =<span class="st"> </span><span class="kw">exp</span>(par[<span class="kw">length</span>(par)]) </span>
<span id="cb102-7"><a href="tobit.html#cb102-7"></a>  beta  =<span class="st"> </span>par[<span class="op">-</span><span class="kw">length</span>(par)]</span>
<span id="cb102-8"><a href="tobit.html#cb102-8"></a>  </span>
<span id="cb102-9"><a href="tobit.html#cb102-9"></a>  <span class="co"># create indicator depending on chosen limit</span></span>
<span id="cb102-10"><a href="tobit.html#cb102-10"></a>  <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.infinite</span>(ll)) {</span>
<span id="cb102-11"><a href="tobit.html#cb102-11"></a>    limit =<span class="st"> </span>ll</span>
<span id="cb102-12"><a href="tobit.html#cb102-12"></a>    indicator =<span class="st"> </span>y <span class="op">&gt;</span><span class="st"> </span>ll</span>
<span id="cb102-13"><a href="tobit.html#cb102-13"></a>  } <span class="cf">else</span> {</span>
<span id="cb102-14"><a href="tobit.html#cb102-14"></a>    limit =<span class="st"> </span>ul</span>
<span id="cb102-15"><a href="tobit.html#cb102-15"></a>    indicator =<span class="st"> </span>y <span class="op">&lt;</span><span class="st"> </span>ul</span>
<span id="cb102-16"><a href="tobit.html#cb102-16"></a>  }</span>
<span id="cb102-17"><a href="tobit.html#cb102-17"></a>  </span>
<span id="cb102-18"><a href="tobit.html#cb102-18"></a>  <span class="co"># linear predictor</span></span>
<span id="cb102-19"><a href="tobit.html#cb102-19"></a>  lp =<span class="st"> </span>X <span class="op">%*%</span><span class="st"> </span>beta</span>
<span id="cb102-20"><a href="tobit.html#cb102-20"></a>  </span>
<span id="cb102-21"><a href="tobit.html#cb102-21"></a>  <span class="co"># log likelihood</span></span>
<span id="cb102-22"><a href="tobit.html#cb102-22"></a>  ll =<span class="st"> </span><span class="kw">sum</span>(indicator <span class="op">*</span><span class="st"> </span><span class="kw">log</span>((<span class="dv">1</span><span class="op">/</span>sigma)<span class="op">*</span><span class="kw">dnorm</span>((y<span class="op">-</span>lp)<span class="op">/</span>sigma)) ) <span class="op">+</span><span class="st"> </span></span>
<span id="cb102-23"><a href="tobit.html#cb102-23"></a><span class="st">    </span><span class="kw">sum</span>((<span class="dv">1</span><span class="op">-</span>indicator) <span class="op">*</span><span class="st"> </span><span class="kw">log</span>(<span class="kw">pnorm</span>((lp<span class="op">-</span>limit)<span class="op">/</span>sigma, <span class="dt">lower=</span><span class="kw">is.infinite</span>(ll))))</span>
<span id="cb102-24"><a href="tobit.html#cb102-24"></a>  </span>
<span id="cb102-25"><a href="tobit.html#cb102-25"></a>  <span class="op">-</span>ll</span>
<span id="cb102-26"><a href="tobit.html#cb102-26"></a>}</span></code></pre></div>
<div id="demonstrate-censoring-with-an-upper-limit" class="section level2">
<h2>Demonstrate Censoring with an Upper Limit</h2>
<div id="data-setup-3" class="section level3">
<h3>Data setup</h3>
<p>Data regards academic aptitude (GRE scores) with will be modeled using reading and math test scores, as well as the type of program the student is enrolled in (academic, general, or vocational). See this for an applied example and more detail- <a href="https://stats.idre.ucla.edu/r/dae/tobit-models/" class="uri">https://stats.idre.ucla.edu/r/dae/tobit-models/</a></p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="tobit.html#cb103-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb103-2"><a href="tobit.html#cb103-2"></a></span>
<span id="cb103-3"><a href="tobit.html#cb103-3"></a>acad_apt =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://stats.idre.ucla.edu/stat/data/tobit.csv&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb103-4"><a href="tobit.html#cb103-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prog =</span> <span class="kw">factor</span>(prog, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&#39;acad&#39;</span>, <span class="st">&#39;general&#39;</span>, <span class="st">&#39;vocational&#39;</span>)))</span></code></pre></div>
<p>Setup data and initial values.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="tobit.html#cb104-1"></a>initmod =<span class="st"> </span><span class="kw">lm</span>(apt <span class="op">~</span><span class="st"> </span>read <span class="op">+</span><span class="st"> </span>math <span class="op">+</span><span class="st"> </span>prog, <span class="dt">data =</span> acad_apt)</span>
<span id="cb104-2"><a href="tobit.html#cb104-2"></a>X =<span class="st"> </span><span class="kw">model.matrix</span>(initmod)</span>
<span id="cb104-3"><a href="tobit.html#cb104-3"></a>init =<span class="st"> </span><span class="kw">c</span>(<span class="kw">coef</span>(initmod), <span class="dt">log_sigma =</span> <span class="kw">log</span>(<span class="kw">summary</span>(initmod)<span class="op">$</span>sigma))</span></code></pre></div>
<p>Estimate via <span class="func" style="">optim</span>.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="tobit.html#cb105-1"></a>res =<span class="st"> </span><span class="kw">optim</span>(</span>
<span id="cb105-2"><a href="tobit.html#cb105-2"></a>  <span class="dt">par =</span> init,</span>
<span id="cb105-3"><a href="tobit.html#cb105-3"></a>  tobit,</span>
<span id="cb105-4"><a href="tobit.html#cb105-4"></a>  <span class="dt">y  =</span> acad_apt<span class="op">$</span>apt,</span>
<span id="cb105-5"><a href="tobit.html#cb105-5"></a>  <span class="dt">X  =</span> X,</span>
<span id="cb105-6"><a href="tobit.html#cb105-6"></a>  <span class="dt">ul =</span> <span class="dv">800</span>,</span>
<span id="cb105-7"><a href="tobit.html#cb105-7"></a>  <span class="dt">method  =</span> <span class="st">&#39;BFGS&#39;</span>,</span>
<span id="cb105-8"><a href="tobit.html#cb105-8"></a>  <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">maxit =</span> <span class="dv">2000</span>, <span class="dt">reltol =</span> <span class="fl">1e-15</span>)</span>
<span id="cb105-9"><a href="tobit.html#cb105-9"></a>)</span>
<span id="cb105-10"><a href="tobit.html#cb105-10"></a></span>
<span id="cb105-11"><a href="tobit.html#cb105-11"></a></span>
<span id="cb105-12"><a href="tobit.html#cb105-12"></a><span class="co"># this would be more akin to the default Stata default approach</span></span>
<span id="cb105-13"><a href="tobit.html#cb105-13"></a><span class="co"># optim(</span></span>
<span id="cb105-14"><a href="tobit.html#cb105-14"></a><span class="co">#   par = init,</span></span>
<span id="cb105-15"><a href="tobit.html#cb105-15"></a><span class="co">#   tobit,</span></span>
<span id="cb105-16"><a href="tobit.html#cb105-16"></a><span class="co">#   y = acad_apt$apt,</span></span>
<span id="cb105-17"><a href="tobit.html#cb105-17"></a><span class="co">#   X = X,</span></span>
<span id="cb105-18"><a href="tobit.html#cb105-18"></a><span class="co">#   ul = 800,</span></span>
<span id="cb105-19"><a href="tobit.html#cb105-19"></a><span class="co">#   control = list(maxit = 16000, reltol = 1e-15)</span></span>
<span id="cb105-20"><a href="tobit.html#cb105-20"></a><span class="co"># )</span></span></code></pre></div>
</div>
<div id="comparison-5" class="section level3">
<h3>Comparison</h3>
<p>Compare to <span class="pack" style="">AER</span> package tobit function.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="tobit.html#cb106-1"></a><span class="kw">library</span>(survival)</span>
<span id="cb106-2"><a href="tobit.html#cb106-2"></a></span>
<span id="cb106-3"><a href="tobit.html#cb106-3"></a>aer_mod =<span class="st"> </span>AER<span class="op">::</span><span class="kw">tobit</span>(</span>
<span id="cb106-4"><a href="tobit.html#cb106-4"></a>  apt <span class="op">~</span><span class="st"> </span>read <span class="op">+</span><span class="st"> </span>math <span class="op">+</span><span class="st"> </span>prog,</span>
<span id="cb106-5"><a href="tobit.html#cb106-5"></a>  <span class="dt">data =</span> acad_apt,</span>
<span id="cb106-6"><a href="tobit.html#cb106-6"></a>  <span class="dt">left =</span> <span class="op">-</span><span class="ot">Inf</span>,</span>
<span id="cb106-7"><a href="tobit.html#cb106-7"></a>  <span class="dt">right =</span> <span class="dv">800</span></span>
<span id="cb106-8"><a href="tobit.html#cb106-8"></a>)</span>
<span id="cb106-9"><a href="tobit.html#cb106-9"></a></span>
<span id="cb106-10"><a href="tobit.html#cb106-10"></a><span class="kw">rbind</span>(</span>
<span id="cb106-11"><a href="tobit.html#cb106-11"></a>  <span class="dt">tobit =</span> <span class="kw">c</span>(</span>
<span id="cb106-12"><a href="tobit.html#cb106-12"></a>    res<span class="op">$</span>par[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>],</span>
<span id="cb106-13"><a href="tobit.html#cb106-13"></a>    <span class="dt">sigma   =</span> <span class="kw">exp</span>(res<span class="op">$</span>par[<span class="dv">6</span>]),</span>
<span id="cb106-14"><a href="tobit.html#cb106-14"></a>    <span class="dt">logLike =</span> <span class="op">-</span>res<span class="op">$</span>value</span>
<span id="cb106-15"><a href="tobit.html#cb106-15"></a>  ),</span>
<span id="cb106-16"><a href="tobit.html#cb106-16"></a>  <span class="dt">AER =</span> <span class="kw">c</span>(<span class="kw">coef</span>(aer_mod), aer_mod<span class="op">$</span>scale, <span class="kw">logLik</span>(aer_mod))</span>
<span id="cb106-17"><a href="tobit.html#cb106-17"></a>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb106-18"><a href="tobit.html#cb106-18"></a><span class="st">  </span><span class="kw">round</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>      (Intercept)  read  math proggeneral progvocational sigma.log_sigma   logLike
tobit     209.566 2.698 5.914     -12.716        -46.143          65.677 -1041.063
AER       209.566 2.698 5.914     -12.715        -46.144          65.677 -1041.063</code></pre>
<p><span class="pack" style="">AER</span> is actually just using <span class="func" style="">survreg</span> from the <span class="pack" style="">survival</span> package. Survival models are usually for modeling time to some event, e.g. death in medical studies, and the censoring comes from the fact that the observed event does not occur for some people. Like our tobit function, an indicator is needed to denote who is or isn’t censored. In survival models, the indicator is for the event itself, and means they are NOT censored. So we’ll reverse the indicator used in the tobit function for <span class="func" style="">survreg</span>.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="tobit.html#cb108-1"></a>surv_mod =<span class="st"> </span><span class="kw">survreg</span>(<span class="kw">Surv</span>(apt, apt <span class="op">&lt;</span><span class="st"> </span><span class="dv">800</span>, <span class="dt">type =</span> <span class="st">&#39;right&#39;</span>) <span class="op">~</span><span class="st"> </span>read <span class="op">+</span><span class="st"> </span>math <span class="op">+</span><span class="st"> </span>prog,</span>
<span id="cb108-2"><a href="tobit.html#cb108-2"></a>                   <span class="dt">data =</span> acad_apt,</span>
<span id="cb108-3"><a href="tobit.html#cb108-3"></a>                   <span class="dt">dist =</span> <span class="st">&#39;gaussian&#39;</span>)</span></code></pre></div>
<p>Compare all results.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="tobit.html#cb109-1"></a><span class="kw">rbind</span>(</span>
<span id="cb109-2"><a href="tobit.html#cb109-2"></a>  <span class="dt">tobit =</span> <span class="kw">c</span>(</span>
<span id="cb109-3"><a href="tobit.html#cb109-3"></a>    res<span class="op">$</span>par[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>],</span>
<span id="cb109-4"><a href="tobit.html#cb109-4"></a>    <span class="dt">sigma =</span> <span class="kw">exp</span>(res<span class="op">$</span>par[<span class="dv">6</span>]),</span>
<span id="cb109-5"><a href="tobit.html#cb109-5"></a>    <span class="dt">logLike =</span> <span class="op">-</span>res<span class="op">$</span>value</span>
<span id="cb109-6"><a href="tobit.html#cb109-6"></a>  ),</span>
<span id="cb109-7"><a href="tobit.html#cb109-7"></a>  <span class="dt">AER =</span> <span class="kw">c</span>(<span class="kw">coef</span>(aer_mod), aer_mod<span class="op">$</span>scale, <span class="kw">logLik</span>(aer_mod)),</span>
<span id="cb109-8"><a href="tobit.html#cb109-8"></a>  <span class="dt">survival =</span> <span class="kw">c</span>(<span class="kw">coef</span>(surv_mod), surv_mod<span class="op">$</span>scale, <span class="kw">logLik</span>(surv_mod))</span>
<span id="cb109-9"><a href="tobit.html#cb109-9"></a>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb109-10"><a href="tobit.html#cb109-10"></a><span class="st">  </span><span class="kw">round</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>         (Intercept)  read  math proggeneral progvocational sigma.log_sigma   logLike
tobit        209.566 2.698 5.914     -12.716        -46.143          65.677 -1041.063
AER          209.566 2.698 5.914     -12.715        -46.144          65.677 -1041.063
survival     209.566 2.698 5.914     -12.715        -46.144          65.677 -1041.063</code></pre>
</div>
</div>
<div id="demonstrate-censoring-with-a-lower-limit" class="section level2">
<h2>Demonstrate censoring with a Lower Limit</h2>
<p>Create a censored data situation for the low end. The scale itself would be censored for anyone scoring a 200, but that basically doesn’t happen. In this data, 15 are less than a score of 500, so we’ll do that.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="tobit.html#cb111-1"></a>acad_apt =<span class="st"> </span>acad_apt <span class="op">%&gt;%</span></span>
<span id="cb111-2"><a href="tobit.html#cb111-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">apt2 =</span> apt,</span>
<span id="cb111-3"><a href="tobit.html#cb111-3"></a>         <span class="dt">apt2 =</span> <span class="kw">if_else</span>(apt2 <span class="op">&lt;</span><span class="st"> </span><span class="dv">500</span>, <span class="dv">500</span>, apt2))</span></code></pre></div>
<p>Estimate and use <span class="pack" style="">AER</span> for comparison.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="tobit.html#cb112-1"></a>res =<span class="st"> </span><span class="kw">optim</span>(</span>
<span id="cb112-2"><a href="tobit.html#cb112-2"></a>  <span class="dt">par =</span> init,</span>
<span id="cb112-3"><a href="tobit.html#cb112-3"></a>  tobit,</span>
<span id="cb112-4"><a href="tobit.html#cb112-4"></a>  <span class="dt">y  =</span> acad_apt<span class="op">$</span>apt2,</span>
<span id="cb112-5"><a href="tobit.html#cb112-5"></a>  <span class="dt">X  =</span> X,</span>
<span id="cb112-6"><a href="tobit.html#cb112-6"></a>  <span class="dt">ll =</span> <span class="dv">400</span>,</span>
<span id="cb112-7"><a href="tobit.html#cb112-7"></a>  <span class="dt">method  =</span> <span class="st">&#39;BFGS&#39;</span>,</span>
<span id="cb112-8"><a href="tobit.html#cb112-8"></a>  <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">maxit =</span> <span class="dv">2000</span>, <span class="dt">reltol =</span> <span class="fl">1e-15</span>)</span>
<span id="cb112-9"><a href="tobit.html#cb112-9"></a>)</span>
<span id="cb112-10"><a href="tobit.html#cb112-10"></a></span>
<span id="cb112-11"><a href="tobit.html#cb112-11"></a>aer_mod =<span class="st"> </span>AER<span class="op">::</span><span class="kw">tobit</span>(apt2 <span class="op">~</span><span class="st"> </span>read <span class="op">+</span><span class="st"> </span>math <span class="op">+</span><span class="st"> </span>prog,</span>
<span id="cb112-12"><a href="tobit.html#cb112-12"></a>                     <span class="dt">data =</span> acad_apt,</span>
<span id="cb112-13"><a href="tobit.html#cb112-13"></a>                     <span class="dt">left =</span> <span class="dv">400</span>)</span></code></pre></div>
<div id="comparison-6" class="section level3">
<h3>Comparison</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="tobit.html#cb113-1"></a><span class="kw">rbind</span>(</span>
<span id="cb113-2"><a href="tobit.html#cb113-2"></a>  <span class="dt">tobit =</span> <span class="kw">c</span>(</span>
<span id="cb113-3"><a href="tobit.html#cb113-3"></a>    res<span class="op">$</span>par[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>],</span>
<span id="cb113-4"><a href="tobit.html#cb113-4"></a>    <span class="dt">sigma =</span> <span class="kw">exp</span>(res<span class="op">$</span>par[<span class="dv">6</span>]),</span>
<span id="cb113-5"><a href="tobit.html#cb113-5"></a>    <span class="dt">logLike =</span> <span class="op">-</span>res<span class="op">$</span>value</span>
<span id="cb113-6"><a href="tobit.html#cb113-6"></a>  ),</span>
<span id="cb113-7"><a href="tobit.html#cb113-7"></a>  <span class="dt">AER =</span> <span class="kw">c</span>(<span class="kw">coef</span>(aer_mod), aer_mod<span class="op">$</span>scale, <span class="kw">logLik</span>(aer_mod))</span>
<span id="cb113-8"><a href="tobit.html#cb113-8"></a>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb113-9"><a href="tobit.html#cb113-9"></a><span class="st">  </span><span class="kw">round</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>      (Intercept)  read  math proggeneral progvocational sigma.log_sigma   logLike
tobit     270.408 2.328 5.086     -11.331        -38.606          57.024 -1092.483
AER       270.409 2.328 5.085     -11.331        -38.606          57.024 -1092.483</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="heckman-selection.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="naive-bayes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["twitter", "facebook", "linkedin", "google", "weibo", "instapaper"],
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/m-clark/models-by-example/blob/master/tobit.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"df_print": "kable",
"highlight": "pygments",
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
